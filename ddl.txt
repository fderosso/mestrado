CREATE SCHEMA pesquisa AUTHORIZATION postgres;
GRANT ALL ON SCHEMA pesquisa TO postgres;

CREATE TABLE pesquisa.regiao (
	reg_id serial4 NOT NULL,
	reg_nome varchar(15) NOT NULL,
	CONSTRAINT regiao_pk PRIMARY KEY (reg_id),
	CONSTRAINT regiao_unique UNIQUE (reg_nome)
);
INSERT INTO pesquisa.regiao(reg_nome) VALUES('Sul');

CREATE TABLE pesquisa.estado (
	est_id serial4 NOT NULL,
	est_uf varchar(2) NOT NULL,
	est_nome varchar(50) NOT NULL,
	reg_id int4 NOT NULL,
	CONSTRAINT estado_pk PRIMARY KEY (est_id),
	CONSTRAINT estado_unique UNIQUE (est_uf),
	CONSTRAINT estado_unique_1 UNIQUE (est_nome),
	CONSTRAINT estado_regiao_fk FOREIGN KEY (reg_id) REFERENCES pesquisa.regiao(reg_id)
);
ALTER TABLE pesquisa.estado OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.estado TO postgres;
INSERT INTO pesquisa.estado(est_uf, est_nome, reg_id) VALUES('PR','Paraná',1);


ALTER TABLE pesquisa.regiao OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.regiao TO postgres;
ALTER TABLE pesquisa.estado ADD CONSTRAINT estado_regiao_fk FOREIGN KEY (reg_id) REFERENCES pesquisa.regiao(reg_id);

CREATE TABLE pesquisa.cidade (
	cid_id serial4 NOT NULL,
	cid_nome varchar(100) NOT NULL,
	est_id int4 NOT NULL,
	CONSTRAINT cidade_pk PRIMARY KEY (cid_id),
	CONSTRAINT cidade_unique UNIQUE (cid_nome),
	CONSTRAINT cidade_estado_fk FOREIGN KEY (est_id) REFERENCES pesquisa.estado(est_id)
);
ALTER TABLE pesquisa.cidade OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.cidade TO postgres;
INSERT INTO pesquisa.cidade(cid_nome, est_id) VALUES('Curitiba',1);


CREATE TABLE pesquisa.regional (
	regional_id serial4 NOT NULL,
	regional_nome varchar(50) NOT NULL,
	cid_id int4 NOT NULL,
	CONSTRAINT regional_pk PRIMARY KEY (regional_id),
	CONSTRAINT regional_unique UNIQUE (regional_nome),
	CONSTRAINT regional_cidade_fk FOREIGN KEY (cid_id) REFERENCES pesquisa.cidade(cid_id)
);

ALTER TABLE pesquisa.regional OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.regional TO postgres;


INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Bairro Novo',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Boa Vista',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Boqueirão',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Cajuru',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('CIC',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Fazendinha/Portão',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Matriz',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Pinheirinho',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Santa Felicidade',1);
INSERT INTO pesquisa.regional(regional_nome, cid_id)values('Tatuquara',1);

CREATE TABLE pesquisa.bairro (
	bai_id serial4 NOT NULL,
	bai_nome varchar(100) NOT NULL,
	cid_id int4 NOT NULL,
	regional_id int4 NOT NULL,
	CONSTRAINT bairro_pk PRIMARY KEY (bai_id),
	CONSTRAINT bairro_unique UNIQUE (bai_nome),
	CONSTRAINT bairro_cidade_fk FOREIGN KEY (cid_id) REFERENCES pesquisa.cidade(cid_id),
	CONSTRAINT bairro_regional_fk FOREIGN KEY (regional_id) REFERENCES pesquisa.regional(regional_id)
);

-- Permissions

ALTER TABLE pesquisa.bairro OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.bairro TO postgres;


INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Ganchinho',1,1);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Sitio Cercado',1,1);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Umbará',1,1);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Abranches',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Atuba',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Bacacheri',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Bairro Alto',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Barreirinha',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Boa Vista',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cachoeira',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Pilarzinho',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Santa Cândida',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('São Lourenço',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Taboão',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Tarumã',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Tingui',1,2);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Alto Boqueirão',1,3);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Boqueirão',1,3);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Hauer',1,3);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Xaxim',1,3);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cajuru',1,4);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Capão da Imbuia',1,4);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Guabirotuba',1,4);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Jd. das Américas',1,4);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Uberaba',1,4);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Augusta',1,5);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cidade Industrial',1,5);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Riviera',1,5);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('São Miguel',1,5);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Água Verde',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Campo Comprido (Sul)',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Fanny',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Fazendinha',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Guaíra',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Lindoia',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Novo Mundo',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Parolin',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Portão',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Santa Quitéria',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Vila Izabel',1,6);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Ahú',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Alto da Glória',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Alto da XV',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Batel',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Bigorrilho',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Bom Retiro',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cabral',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Centro',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Centro Cívico',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cristo Rei',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Hugo Lange',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Jardim Botânico',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Jardim Social',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Juvevê',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Mercês',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Prado Velho',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Rebouças',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('São Francisco',1,7);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Capão Raso',1,8);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Pinheirinho',1,8);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Butiatuvinha',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Campina do Siqueira',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Cascatinha',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Campo Comprido (Norte)',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Lamenha Pequena',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Mossunguê',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Orleans',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Santa Felicidade',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Santo Inácio',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('São Braz',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('São João',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Vista Alegre',1,9);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Campo de Santana',1,10);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Caximba',1,10);
INSERT INTO pesquisa.bairro(bai_nome, cid_id, regional_id)values('Tatuquara',1,10);

CREATE TABLE pesquisa.tipo_servico_saude (
	tss_id serial4 NOT NULL,
	tss_nome varchar(150) NOT NULL,
	CONSTRAINT tipo_servico_saude_pk PRIMARY KEY (tss_id),
	CONSTRAINT tipo_servico_saude_unique UNIQUE (tss_nome)
);

ALTER TABLE pesquisa.tipo_servico_saude OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.tipo_servico_saude TO postgres;

INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Unidade de Saúde (US)');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Centro de Atenção Psicossocial');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Hospital Municipal');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Unidade de Pronto atendimento (UPA)');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Centro de especialidades médicas');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Centro de especialidades odontológicas');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Centro de orientações e acolhimento');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Ambulatório');
INSERT INTO pesquisa.tipo_servico_saude(tss_nome)values('Hospital particular');

CREATE TABLE pesquisa.servico_saude (
	ssa_id serial4 NOT NULL,
	ssa_nome varchar(150) NOT NULL,
	ssa_endereco varchar(200) NOT NULL,
	bai_id int4 NOT NULL,
	tss_id int4 NOT NULL,
	CONSTRAINT servico_saude_pk PRIMARY KEY (ssa_id),
	CONSTRAINT servico_saude_unique UNIQUE (ssa_nome),
	CONSTRAINT servico_saude_bairro_fk FOREIGN KEY (bai_id) REFERENCES pesquisa.bairro(bai_id),
	CONSTRAINT servico_saude_tipo_servico_saude_fk FOREIGN KEY (tss_id) REFERENCES pesquisa.tipo_servico_saude(tss_id)
);

ALTER TABLE pesquisa.servico_saude OWNER TO postgres;
GRANT ALL ON TABLE pesquisa.servico_saude TO postgres;

INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Bairro Novo','Rua Paulo Rio Branco de Macedo, 791',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Coqueiros','Rua Coronel Victor Agner Kendrick, 80',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US João Cândido','Rua Ourizona, 2250',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Nossa Senhora Aparecida','Rua Carlos Amoretty Osório, 169',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Osternack','Rua Miguel Rossetim, 100',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Parigot de Souza','Rua João Eloy de Souza, 111',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Salvador Allende','Rua Celeste Tortato Gabardo, 1712',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Sambaqui','Rua Roberto Dala Barba, 44',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US São João Del Rey','Rua Realeza, 259',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Umbará I','Rua Dep. Pinheiro Junior, 915',3,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Umbará II','Rua Estanislau Selenko, 365',3,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('US Xapinhal','Rua Elbe de Macedo, 483',2,1);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('CAPS II Territorial Bairro Novo','Alameda Nossa Senhora do Sagrado Coração, 771 ',62,2);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('Centro Médico Comunitário Bairro Novo','Rua Jussara, 2234',2,3);
INSERT INTO pesquisa.servico_saude(ssa_nome,ssa_endereco, bai_id, tss_id) values('UPA Sítio Cercado','Av. Levy Buquera, 700',2,4);
